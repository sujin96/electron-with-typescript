{"ast":null,"code":"var _jsxFileName = \"/Users/isujin/Desktop/codestates/im-sprint-cmarket-redux/src/pages/ShoppingCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeFromCart, setQuantity } from \"../actions\";\nimport CartItem from \"../components/CartItem\";\nimport OrderSummary from \"../components/OrderSummary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShoppingCart() {\n  _s();\n\n  const state = useSelector(state => state.itemReducer);\n  const {\n    cartItems,\n    items\n  } = state;\n  const dispatch = useDispatch();\n  const [checkedItems, setCheckedItems] = useState(cartItems.map(el => el.itemId));\n\n  const handleCheckChange = (checked, id) => {\n    if (checked) {\n      setCheckedItems([...checkedItems, id]);\n    } else {\n      setCheckedItems(checkedItems.filter(el => el !== id));\n    }\n  };\n\n  const handleAllCheck = checked => {\n    if (checked) {\n      setCheckedItems(cartItems.map(el => el.itemId));\n    } else {\n      setCheckedItems([]);\n    }\n  };\n\n  const handleQuantityChange = (quantity, itemId) => {\n    //TODO: dispatch 함수를 호출하여 액션을 전달하세요.\n    dispatch(setQuantity(itemId, quantity));\n  };\n\n  const handleDelete = itemId => {\n    setCheckedItems(checkedItems.filter(el => el !== itemId)); //TODO: dispatch 함수를 호출하여 액션을 전달하세요.\n\n    dispatch(removeFromCart(itemId));\n  };\n\n  const getTotal = () => {\n    let cartIdArr = cartItems.map(el => el.itemId);\n    let total = {\n      price: 0,\n      quantity: 0\n    };\n\n    for (let i = 0; i < cartIdArr.length; i++) {\n      if (checkedItems.indexOf(cartIdArr[i]) > -1) {\n        let quantity = cartItems[i].quantity;\n        let price = items.filter(el => el.id === cartItems[i].itemId)[0].price;\n        total.price = total.price + quantity * price;\n        total.quantity = total.quantity + quantity;\n      }\n    }\n\n    return total;\n  };\n\n  const renderItems = items.filter(el => cartItems.map(el => el.itemId).indexOf(el.id) > -1);\n  const total = getTotal();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"item-list-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"item-list-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"item-list-title\",\n        children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"shopping-cart-select-all\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: checkedItems.length === cartItems.length ? true : false,\n          onChange: e => handleAllCheck(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC804\\uCCB4\\uC120\\uD0DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"shopping-cart-container\",\n        children: [!cartItems.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"item-list-text\",\n          children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uC544\\uC774\\uD15C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"cart-item-list\",\n          children: renderItems.map((item, idx) => {\n            const quantity = cartItems.filter(el => el.itemId === item.id)[0].quantity;\n            return /*#__PURE__*/_jsxDEV(CartItem, {\n              handleCheckChange: handleCheckChange,\n              handleQuantityChange: handleQuantityChange,\n              handleDelete: handleDelete,\n              item: item,\n              checkedItems: checkedItems,\n              quantity: quantity\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(OrderSummary, {\n          total: total.price,\n          totalQty: total.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShoppingCart, \"+DmS8yZeOv0tqPFBGiM0TV8E9n4=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"sources":["/Users/isujin/Desktop/codestates/im-sprint-cmarket-redux/src/pages/ShoppingCart.js"],"names":["React","useState","useDispatch","useSelector","removeFromCart","setQuantity","CartItem","OrderSummary","ShoppingCart","state","itemReducer","cartItems","items","dispatch","checkedItems","setCheckedItems","map","el","itemId","handleCheckChange","checked","id","filter","handleAllCheck","handleQuantityChange","quantity","handleDelete","getTotal","cartIdArr","total","price","i","length","indexOf","renderItems","e","target","item","idx"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeFromCart, setQuantity } from \"../actions\";\nimport CartItem from \"../components/CartItem\";\nimport OrderSummary from \"../components/OrderSummary\";\n\nexport default function ShoppingCart() {\n  const state = useSelector((state) => state.itemReducer);\n  const { cartItems, items } = state;\n  const dispatch = useDispatch();\n  const [checkedItems, setCheckedItems] = useState(\n    cartItems.map((el) => el.itemId)\n  );\n\n  const handleCheckChange = (checked, id) => {\n    if (checked) {\n      setCheckedItems([...checkedItems, id]);\n    } else {\n      setCheckedItems(checkedItems.filter((el) => el !== id));\n    }\n  };\n\n  const handleAllCheck = (checked) => {\n    if (checked) {\n      setCheckedItems(cartItems.map((el) => el.itemId));\n    } else {\n      setCheckedItems([]);\n    }\n  };\n\n  const handleQuantityChange = (quantity, itemId) => {\n    //TODO: dispatch 함수를 호출하여 액션을 전달하세요.\n    dispatch(setQuantity(itemId, quantity));\n  };\n\n  const handleDelete = (itemId) => {\n    setCheckedItems(checkedItems.filter((el) => el !== itemId));\n    //TODO: dispatch 함수를 호출하여 액션을 전달하세요.\n    dispatch(removeFromCart(itemId));\n  };\n\n  const getTotal = () => {\n    let cartIdArr = cartItems.map((el) => el.itemId);\n    let total = {\n      price: 0,\n      quantity: 0,\n    };\n    for (let i = 0; i < cartIdArr.length; i++) {\n      if (checkedItems.indexOf(cartIdArr[i]) > -1) {\n        let quantity = cartItems[i].quantity;\n        let price = items.filter((el) => el.id === cartItems[i].itemId)[0]\n          .price;\n\n        total.price = total.price + quantity * price;\n        total.quantity = total.quantity + quantity;\n      }\n    }\n    return total;\n  };\n\n  const renderItems = items.filter(\n    (el) => cartItems.map((el) => el.itemId).indexOf(el.id) > -1\n  );\n  const total = getTotal();\n\n  return (\n    <div id=\"item-list-container\">\n      <div id=\"item-list-body\">\n        <div id=\"item-list-title\">장바구니</div>\n        <span id=\"shopping-cart-select-all\">\n          <input\n            type=\"checkbox\"\n            checked={checkedItems.length === cartItems.length ? true : false}\n            onChange={(e) => handleAllCheck(e.target.checked)}\n          ></input>\n          <label>전체선택</label>\n        </span>\n        <div id=\"shopping-cart-container\">\n          {!cartItems.length ? (\n            <div id=\"item-list-text\">장바구니에 아이템이 없습니다.</div>\n          ) : (\n            <div id=\"cart-item-list\">\n              {renderItems.map((item, idx) => {\n                const quantity = cartItems.filter(\n                  (el) => el.itemId === item.id\n                )[0].quantity;\n                return (\n                  <CartItem\n                    key={idx}\n                    handleCheckChange={handleCheckChange}\n                    handleQuantityChange={handleQuantityChange}\n                    handleDelete={handleDelete}\n                    item={item}\n                    checkedItems={checkedItems}\n                    quantity={quantity}\n                  />\n                );\n              })}\n            </div>\n          )}\n          <OrderSummary total={total.price} totalQty={total.quantity} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}